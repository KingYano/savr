import{D as H,d as R,v as _,x as k,E as h,F as i,G as F,H as fn,I as Qe,J as Pt,K as Ze,L as Re,M as bt,N as wt,j as N,O as P,B as $,A as C,y as f,z as L,P as ve,Q as mn,R as q,S as gn,h as Pe,T as Ut,e as vn,U as hn,V as yn,W as de,X as G,r as I,Y as De,Z as bn,o as lt,$ as be,a0 as wn,a1 as xn,a2 as xt,a3 as ct,a4 as Tt,a5 as Mn,a6 as Ft,a7 as kn,a8 as W,a9 as Dn,aa as ye,ab as Lt,ac as et,ad as En,ae as Nt,af as Bt,ag as Cn,ah as ke,C as z,ai as Mt,aj as Sn,ak as $n,al as dt,am as On,an as An}from"./Ctu_8G8G.js";/**
 * @license lucide-vue-next v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=H("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=H("ChevronLeftIcon",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=H("ChevronRightIcon",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=H("CircleArrowDownIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-vue-next v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=H("CircleArrowUpIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-vue-next v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=H("CircleXIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-vue-next v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=H("MoonIcon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-vue-next v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=H("PenLineIcon",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-vue-next v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=H("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=H("RepeatIcon",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-vue-next v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=H("SunIcon",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-vue-next v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=H("UploadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),se=e=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(e),Nn=e=>e?e.toLocaleDateString("fr-FR"):"",Bn=e=>e?e.toLocaleDateString("fr-FR",{month:"long",year:"numeric"}):"",zn=e=>e?e.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"short",year:"numeric"}):"";function zt(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=zt(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function jt(){for(var e,t,n=0,s="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=zt(e))&&(s&&(s+=" "),s+=t);return s}const ut="-",jn=e=>{const t=Wn(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:r=>{const l=r.split(ut);return l[0]===""&&l.length!==1&&l.shift(),Vt(l,t)||Vn(r)},getConflictingClassGroupIds:(r,l)=>{const u=n[r]||[];return l&&s[r]?[...u,...s[r]]:u}}},Vt=(e,t)=>{var r;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),o=s?Vt(e.slice(1),s):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(ut);return(r=t.validators.find(({validator:l})=>l(a)))==null?void 0:r.classGroupId},kt=/^\[(.+)\]$/,Vn=e=>{if(kt.test(e)){const t=kt.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Wn=e=>{const{theme:t,classGroups:n}=e,s={nextPart:new Map,validators:[]};for(const o in n)rt(n[o],s,o,t);return s},rt=(e,t,n,s)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:Dt(t,o);a.classGroupId=n;return}if(typeof o=="function"){if(Gn(o)){rt(o(s),t,n,s);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,r])=>{rt(r,Dt(t,a),n,s)})})},Dt=(e,t)=>{let n=e;return t.split(ut).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},Gn=e=>e.isThemeGetter,Kn=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const o=(a,r)=>{n.set(a,r),t++,t>e&&(t=0,s=n,n=new Map)};return{get(a){let r=n.get(a);if(r!==void 0)return r;if((r=s.get(a))!==void 0)return o(a,r),r},set(a,r){n.has(a)?n.set(a,r):o(a,r)}}},at="!",it=":",Hn=it.length,qn=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=o=>{const a=[];let r=0,l=0,u=0,d;for(let g=0;g<o.length;g++){let v=o[g];if(r===0&&l===0){if(v===it){a.push(o.slice(u,g)),u=g+Hn;continue}if(v==="/"){d=g;continue}}v==="["?r++:v==="]"?r--:v==="("?l++:v===")"&&l--}const c=a.length===0?o:o.substring(u),p=Yn(c),b=p!==c,S=d&&d>u?d-u:void 0;return{modifiers:a,hasImportantModifier:b,baseClassName:p,maybePostfixModifierPosition:S}};if(t){const o=t+it,a=s;s=r=>r.startsWith(o)?a(r.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:r,maybePostfixModifierPosition:void 0}}if(n){const o=s;s=a=>n({className:a,parseClassName:o})}return s},Yn=e=>e.endsWith(at)?e.substring(0,e.length-1):e.startsWith(at)?e.substring(1):e,Jn=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let a=[];return s.forEach(r=>{r[0]==="["||t[r]?(o.push(...a.sort(),r),a=[]):a.push(r)}),o.push(...a.sort()),o}},Xn=e=>({cache:Kn(e.cacheSize),parseClassName:qn(e),sortModifiers:Jn(e),...jn(e)}),Qn=/\s+/,Zn=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:a}=t,r=[],l=e.trim().split(Qn);let u="";for(let d=l.length-1;d>=0;d-=1){const c=l[d],{isExternal:p,modifiers:b,hasImportantModifier:S,baseClassName:g,maybePostfixModifierPosition:v}=n(c);if(p){u=c+(u.length>0?" "+u:u);continue}let m=!!v,M=s(m?g.substring(0,v):g);if(!M){if(!m){u=c+(u.length>0?" "+u:u);continue}if(M=s(g),!M){u=c+(u.length>0?" "+u:u);continue}m=!1}const y=a(b).join(":"),x=S?y+at:y,O=x+M;if(r.includes(O))continue;r.push(O);const T=o(M,m);for(let w=0;w<T.length;++w){const j=T[w];r.push(x+j)}u=c+(u.length>0?" "+u:u)}return u};function es(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Wt(t))&&(s&&(s+=" "),s+=n);return s}const Wt=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=Wt(e[s]))&&(n&&(n+=" "),n+=t);return n};function ts(e,...t){let n,s,o,a=r;function r(u){const d=t.reduce((c,p)=>p(c),e());return n=Xn(d),s=n.cache.get,o=n.cache.set,a=l,l(u)}function l(u){const d=s(u);if(d)return d;const c=Zn(u,n);return o(u,c),c}return function(){return a(es.apply(null,arguments))}}const B=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Gt=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Kt=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ns=/^\d+\/\d+$/,ss=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,os=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rs=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,as=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,is=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,me=e=>ns.test(e),A=e=>!!e&&!Number.isNaN(Number(e)),le=e=>!!e&&Number.isInteger(Number(e)),Et=e=>e.endsWith("%")&&A(e.slice(0,-1)),ne=e=>ss.test(e),ls=()=>!0,cs=e=>os.test(e)&&!rs.test(e),pt=()=>!1,ds=e=>as.test(e),us=e=>is.test(e),ps=e=>!D(e)&&!E(e),fs=e=>we(e,Yt,pt),D=e=>Gt.test(e),ce=e=>we(e,Jt,cs),He=e=>we(e,Ds,A),ms=e=>we(e,Ht,pt),gs=e=>we(e,qt,us),vs=e=>we(e,pt,ds),E=e=>Kt.test(e),Oe=e=>xe(e,Jt),hs=e=>xe(e,Es),ys=e=>xe(e,Ht),bs=e=>xe(e,Yt),ws=e=>xe(e,qt),xs=e=>xe(e,Cs,!0),we=(e,t,n)=>{const s=Gt.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},xe=(e,t,n=!1)=>{const s=Kt.exec(e);return s?s[1]?t(s[1]):n:!1},Ht=e=>e==="position",Ms=new Set(["image","url"]),qt=e=>Ms.has(e),ks=new Set(["length","size","percentage"]),Yt=e=>ks.has(e),Jt=e=>e==="length",Ds=e=>e==="number",Es=e=>e==="family-name",Cs=e=>e==="shadow",Ss=()=>{const e=B("color"),t=B("font"),n=B("text"),s=B("font-weight"),o=B("tracking"),a=B("leading"),r=B("breakpoint"),l=B("container"),u=B("spacing"),d=B("radius"),c=B("shadow"),p=B("inset-shadow"),b=B("drop-shadow"),S=B("blur"),g=B("perspective"),v=B("aspect"),m=B("ease"),M=B("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],w=()=>[E,D,u],j=()=>[me,"full","auto",...w()],ee=()=>[le,"none","subgrid",E,D],pe=()=>["auto",{span:["full",le,E,D]},E,D],te=()=>[le,"auto",E,D],gt=()=>["auto","min","max","fr",E,D],We=()=>["start","end","center","between","around","evenly","stretch","baseline"],fe=()=>["start","end","center","stretch"],X=()=>["auto",...w()],ie=()=>[me,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...w()],U=()=>[e,E,D],Ge=()=>[Et,ce],V=()=>["","none","full",d,E,D],K=()=>["",A,Oe,ce],Ee=()=>["solid","dashed","dotted","double"],vt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ht=()=>["","none",S,E,D],yt=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",E,D],Ce=()=>["none",A,E,D],Se=()=>["none",A,E,D],Ke=()=>[A,E,D],$e=()=>[me,"full",...w()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ne],breakpoint:[ne],color:[ls],container:[ne],"drop-shadow":[ne],ease:["in","out","in-out"],font:[ps],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ne],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ne],shadow:[ne],spacing:["px",A],text:[ne],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",me,D,E,v]}],container:["container"],columns:[{columns:[A,D,E,l]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...x(),D,E]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[le,"auto",E,D]}],basis:[{basis:[me,"full","auto",l,...w()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[A,me,"auto","initial","none",D]}],grow:[{grow:["",A,E,D]}],shrink:[{shrink:["",A,E,D]}],order:[{order:[le,"first","last","none",E,D]}],"grid-cols":[{"grid-cols":ee()}],"col-start-end":[{col:pe()}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":ee()}],"row-start-end":[{row:pe()}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":gt()}],"auto-rows":[{"auto-rows":gt()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:[...We(),"normal"]}],"justify-items":[{"justify-items":[...fe(),"normal"]}],"justify-self":[{"justify-self":["auto",...fe()]}],"align-content":[{content:["normal",...We()]}],"align-items":[{items:[...fe(),"baseline"]}],"align-self":[{self:["auto",...fe(),"baseline"]}],"place-content":[{"place-content":We()}],"place-items":[{"place-items":[...fe(),"baseline"]}],"place-self":[{"place-self":["auto",...fe()]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":w()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":w()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[l,"screen",...ie()]}],"min-w":[{"min-w":[l,"screen","none",...ie()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[r]},...ie()]}],h:[{h:["screen",...ie()]}],"min-h":[{"min-h":["screen","none",...ie()]}],"max-h":[{"max-h":["screen",...ie()]}],"font-size":[{text:["base",n,Oe,ce]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,E,He]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Et,D]}],"font-family":[{font:[hs,D,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,E,D]}],"line-clamp":[{"line-clamp":[A,"none",E,He]}],leading:[{leading:[a,...w()]}],"list-image":[{"list-image":["none",E,D]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",E,D]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[A,"from-font","auto",E,ce]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[A,"auto",E,D]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",E,D]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",E,D]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...x(),ys,ms]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",bs,fs]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},le,E,D],radial:["",E,D],conic:[le,E,D]},ws,gs]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:Ge()}],"gradient-via-pos":[{via:Ge()}],"gradient-to-pos":[{to:Ge()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ee(),"hidden","none"]}],"divide-style":[{divide:[...Ee(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...Ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[A,E,D]}],"outline-w":[{outline:["",A,Oe,ce]}],"outline-color":[{outline:[e]}],shadow:[{shadow:["","none",c,xs,vs]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",E,D,p]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[A,ce]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":U()}],opacity:[{opacity:[A,E,D]}],"mix-blend":[{"mix-blend":[...vt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":vt()}],filter:[{filter:["","none",E,D]}],blur:[{blur:ht()}],brightness:[{brightness:[A,E,D]}],contrast:[{contrast:[A,E,D]}],"drop-shadow":[{"drop-shadow":["","none",b,E,D]}],grayscale:[{grayscale:["",A,E,D]}],"hue-rotate":[{"hue-rotate":[A,E,D]}],invert:[{invert:["",A,E,D]}],saturate:[{saturate:[A,E,D]}],sepia:[{sepia:["",A,E,D]}],"backdrop-filter":[{"backdrop-filter":["","none",E,D]}],"backdrop-blur":[{"backdrop-blur":ht()}],"backdrop-brightness":[{"backdrop-brightness":[A,E,D]}],"backdrop-contrast":[{"backdrop-contrast":[A,E,D]}],"backdrop-grayscale":[{"backdrop-grayscale":["",A,E,D]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[A,E,D]}],"backdrop-invert":[{"backdrop-invert":["",A,E,D]}],"backdrop-opacity":[{"backdrop-opacity":[A,E,D]}],"backdrop-saturate":[{"backdrop-saturate":[A,E,D]}],"backdrop-sepia":[{"backdrop-sepia":["",A,E,D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",E,D]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[A,"initial",E,D]}],ease:[{ease:["linear","initial",m,E,D]}],delay:[{delay:[A,E,D]}],animate:[{animate:["none",M,E,D]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,E,D]}],"perspective-origin":[{"perspective-origin":yt()}],rotate:[{rotate:Ce()}],"rotate-x":[{"rotate-x":Ce()}],"rotate-y":[{"rotate-y":Ce()}],"rotate-z":[{"rotate-z":Ce()}],scale:[{scale:Se()}],"scale-x":[{"scale-x":Se()}],"scale-y":[{"scale-y":Se()}],"scale-z":[{"scale-z":Se()}],"scale-3d":["scale-3d"],skew:[{skew:Ke()}],"skew-x":[{"skew-x":Ke()}],"skew-y":[{"skew-y":Ke()}],transform:[{transform:[E,D,"","none","gpu","cpu"]}],"transform-origin":[{origin:yt()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$e()}],"translate-x":[{"translate-x":$e()}],"translate-y":[{"translate-y":$e()}],"translate-z":[{"translate-z":$e()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",E,D]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",E,D]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[A,Oe,ce,He]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},$s=ts(Ss);function Y(...e){return $s(jt(e))}const Os=R({__name:"Card",props:{class:{}},setup(e){const t=e;return(n,s)=>(k(),_("div",{class:h(i(Y)("rounded-xl border bg-card text-card-foreground shadow",t.class))},[F(n.$slots,"default")],2))}}),As=R({__name:"CardContent",props:{class:{}},setup(e){const t=e;return(n,s)=>(k(),_("div",{class:h(i(Y)("p-6 pt-0",t.class))},[F(n.$slots,"default")],2))}}),Ue=fn("finance",{getters:{getMovementsWithRecurrences:()=>(e,t)=>{const n=Qe();if(!e||!t||isNaN(e.getTime())||isNaN(t.getTime()))return console.error("Dates invalides:",{startDate:e,endDate:t}),[...n.movements];try{const s=[...n.movements];return n.recurrentMovements.forEach(o=>{const a=new Date(o.date);if(isNaN(a.getTime())){console.error("Date invalide pour le mouvement récurrent:",o);return}let r=new Date(a);for(r.setMonth(r.getMonth()+1);r<=t;){if(r>=e){const l={...o,id:o.id+r.getTime(),date:new Date(r),isGeneratedRecurrence:!0};s.push(l)}r=new Date(r),r.setMonth(r.getMonth()+1)}}),s}catch(s){return console.error("Erreur lors de la génération des récurrences:",s),[...n.movements]}},getMonthMovements:()=>e=>{if(!e||isNaN(e.getTime()))return console.error("Date invalide:",e),[];try{const t=e.getFullYear(),n=e.getMonth(),s=new Date(t,n,1),o=new Date(t,n+1,0);return Ue().getMovementsWithRecurrences(s,o).filter(l=>{const u=l.date instanceof Date?l.date:new Date(l.date);return isNaN(u.getTime())?!1:u.getMonth()===e.getMonth()&&u.getFullYear()===e.getFullYear()})}catch(t){return console.error("Erreur lors de la récupération des mouvements du mois:",t),[]}},getDayMovements:()=>e=>{if(!e||isNaN(e.getTime()))return console.error("Date invalide:",e),[];try{const t=new Date(e);return t.setMonth(t.getMonth()+6),Ue().getMovementsWithRecurrences(e,t).filter(o=>{const a=o.date instanceof Date?o.date:new Date(o.date);return isNaN(a.getTime())?!1:a.getDate()===e.getDate()&&a.getMonth()===e.getMonth()&&a.getFullYear()===e.getFullYear()})}catch(t){return console.error("Erreur lors de la récupération des mouvements du jour:",t),[]}},getMonthCalculations:()=>e=>{const n=Ue().getMonthMovements(e),s=n.filter(r=>r.type==="income").reduce((r,l)=>r+Math.abs(l.amount),0),o=n.filter(r=>r.type==="expense").reduce((r,l)=>r+Math.abs(l.amount),0),a=n.filter(r=>r.isRecurrent||r.isGeneratedRecurrence).reduce((r,l)=>r+Math.abs(l.amount),0);return{totalBalance:s-o,monthlyIncome:s,monthlyExpenses:o,monthlyBalance:s-o,recurrentAmount:a}},getTotalBalance:()=>Qe().movements.reduce((t,n)=>{const s=n.type==="expense"?-Math.abs(n.amount):Math.abs(n.amount);return t+s},0)}});function Te(){const e=Qe(),t=Ue(),n=Pt(),{movements:s,isLoading:o,error:a}=Ze(e),r=async()=>{try{n.setLoading(!0,"Rechargement des données...");const y=await wt.loadMovements();e.loadMovements(y)}catch(y){console.error("Erreur initialisation:",y),n.showError("Erreur de chargement","Impossible de charger vos données.")}finally{n.setLoading(!1)}},l=async()=>{try{await wt.saveMovements(s.value)}catch(y){console.error("Erreur sauvegarde automatique:",y),n.showError("Erreur de sauvegarde","Vos modifications n'ont pas pu être sauvegardées automatiquement.")}},u=async y=>{try{n.clearNotifications();const x=e.addMovement(y);return await l(),n.showSuccess("Mouvement ajouté",`${x.name} a été ajouté avec succès`),!0}catch(x){const O=x instanceof Error?x.message:"Erreur inconnue";return n.showError("Erreur d'ajout",O),!1}},d=async y=>{try{return n.clearNotifications(),e.updateMovement(y)?(await l(),n.showSuccess("Mouvement modifié","Les modifications ont été sauvegardées"),!0):!1}catch(x){const O=x instanceof Error?x.message:"Erreur inconnue";return n.showError("Erreur de modification",O),!1}},c=async y=>{try{return n.clearNotifications(),e.deleteMovement(y)?(await l(),n.showSuccess("Mouvement supprimé","Le mouvement a été supprimé avec succès"),!0):!1}catch(x){const O=x instanceof Error?x.message:"Erreur inconnue";return n.showError("Erreur de suppression",O),!1}},p=y=>t.getMonthMovements(y),b=y=>t.getDayMovements(y),S=y=>t.getMonthCalculations(y).monthlyBalance,g=y=>{const x=t.getMonthCalculations(y);return{income:x.monthlyIncome,expense:x.monthlyExpenses}},v=()=>t.getTotalBalance,m=async()=>{try{n.setLoading(!0,"Export en cours...");const y=await bt.exportData(),x=new Blob([JSON.stringify(y,null,2)],{type:"application/json"}),O=URL.createObjectURL(x),T=document.createElement("a");T.href=O,T.download=`savr-backup-${new Date().toISOString().split("T")[0]}.json`,T.click(),URL.revokeObjectURL(O),n.showSuccess("Export réussi","Vos données ont été exportées avec succès")}catch{n.showError("Erreur d'export","Impossible d'exporter vos données")}finally{n.setLoading(!1)}},M=async y=>{try{n.setLoading(!0,"Import en cours...");const x=await y.text(),O=JSON.parse(x);await bt.importData(O),await r(),n.showSuccess("Import réussi","Vos données ont été importées avec succès")}catch{n.showError("Erreur d'import","Format de fichier invalide ou données corrompues")}finally{n.setLoading(!1)}};return{movements:Re(s),isLoading:Re(o),error:Re(a),addMovement:u,updateMovement:d,deleteMovement:c,getMonthMovements:p,getDayMovements:b,getMonthBalance:S,getIncomeExpenseForMonth:g,getTotalBalance:v,initializeData:r,exportData:m,importData:M}}const _s={class:"space-y-4"},Is={class:"space-y-2"},Rs={class:"space-y-1"},Ps={class:"font-bold text-xl text-emerald-500"},Us={class:"space-y-1"},Ts={class:"font-bold text-xl text-rose-500"},Fs={class:"space-y-1"},Ls={class:"flex justify-between items-center"},Ns={class:"font-bold text-lg text-emerald-500"},Bs={class:"flex justify-between items-center"},zs={class:"font-bold text-lg text-rose-500"},js={class:"flex justify-between items-center"},Vs=R({__name:"BalanceCard",props:{movements:{},selectedMonth:{},isDarkMode:{type:Boolean}},setup(e){const t=e,n=Te(),s=N(()=>!t.selectedMonth||isNaN(t.selectedMonth.getTime())?0:n.getMonthBalance(t.selectedMonth)),o=N(()=>{if(!t.selectedMonth||isNaN(t.selectedMonth.getTime()))return{income:0,expense:0,recurrent:0};const a=n.getMonthMovements(t.selectedMonth),r=a.filter(d=>d.type==="income").reduce((d,c)=>d+Math.abs(c.amount),0),l=a.filter(d=>d.type==="expense").reduce((d,c)=>d+Math.abs(c.amount),0),u=a.filter(d=>d.isRecurrent||d.isGeneratedRecurrence).reduce((d,c)=>d+Math.abs(c.amount),0);return{income:r,expense:l,recurrent:u}});return(a,r)=>(k(),P(i(Os),{class:h(["balance-card",[a.isDarkMode?"bg-gray-900 border-gray-800":"bg-white border border-slate-200"]])},{default:$(()=>[C(i(As),{class:"p-6"},{default:$(()=>[f("div",_s,[f("div",Is,[f("div",{class:h(a.isDarkMode?"text-gray-400":"text-slate-600")}," Solde pour "+L(i(Bn)(a.selectedMonth)),3),f("div",{class:h(["text-xl font-bold",i(s)>=0?"text-emerald-500":"text-rose-500"])},L(i(se)(i(s))),3)]),f("div",{class:h(["hidden md:grid grid-cols-3 gap-4 pt-2 border-t",a.isDarkMode?"border-gray-800":"border-slate-200"])},[f("div",Rs,[f("div",{class:h(["text-sm",a.isDarkMode?"text-gray-400":"text-slate-600"])}," Entrées ",2),f("div",Ps,L(i(se)(i(o).income)),1)]),f("div",Us,[f("div",{class:h(["text-sm",a.isDarkMode?"text-gray-400":"text-slate-600"])}," Sorties ",2),f("div",Ts,L(i(se)(i(o).expense)),1)]),f("div",Fs,[f("div",{class:h(["text-sm",a.isDarkMode?"text-gray-400":"text-slate-600"])}," Récurrences ",2),f("div",{class:h(["font-bold text-xl",a.isDarkMode?"text-amber-400":"text-amber-500"])},L(i(se)(i(o).recurrent)),3)])],2),f("div",{class:h(["md:hidden flex flex-col space-y-3 pt-2 border-t",a.isDarkMode?"border-gray-800":"border-slate-200"])},[f("div",Ls,[f("div",{class:h(["text-sm",a.isDarkMode?"text-gray-400":"text-slate-600"])}," Entrées ",2),f("div",Ns,L(i(se)(i(o).income)),1)]),f("div",Bs,[f("div",{class:h(["text-sm",a.isDarkMode?"text-gray-400":"text-slate-600"])}," Sorties ",2),f("div",zs,L(i(se)(i(o).expense)),1)]),f("div",js,[f("div",{class:h(["text-sm",a.isDarkMode?"text-gray-400":"text-slate-600"])}," Récurrences ",2),f("div",{class:h(["font-bold text-lg",a.isDarkMode?"text-amber-400":"text-amber-500"])},L(i(se)(i(o).recurrent)),3)])],2)])]),_:1})]),_:1},8,["class"]))}});function ft(e){return e?e.flatMap(t=>t.type===ve?ft(t.children):[t]):[]}const Ws=R({name:"PrimitiveSlot",inheritAttrs:!1,setup(e,{attrs:t,slots:n}){return()=>{var u,d;if(!n.default)return null;const s=ft(n.default()),o=s.findIndex(c=>c.type!==mn);if(o===-1)return s;const a=s[o];(u=a.props)==null||delete u.ref;const r=a.props?q(t,a.props):t;t.class&&((d=a.props)!=null&&d.class)&&delete a.props.class;const l=gn(a,r);for(const c in r)c.startsWith("on")&&(l.props||(l.props={}),l.props[c]=r[c]);return s.length===1?l:(s[o]=l,s)}}}),Me=R({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(e,{attrs:t,slots:n}){const s=e.asChild?"template":e.as;return typeof s=="string"&&["area","img","input"].includes(s)?()=>Pe(s,t):s!=="template"?()=>Pe(e.as,t,{default:n.default}):()=>Pe(Ws,t,{default:n.default})}});function Xt(e){return hn()?(yn(e),!0):!1}function Gs(e){let t=!1,n;const s=Ut(!0);return(...o)=>(t||(n=s.run(()=>e(...o)),t=!0),n)}function Ks(e){let t=0,n,s;const o=()=>{t-=1,s&&t<=0&&(s.stop(),n=void 0,s=void 0)};return(...a)=>(t+=1,s||(s=Ut(!0),n=s.run(()=>e(...a))),Xt(o),n)}const ue=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Hs=e=>typeof e<"u",qs=Object.prototype.toString,Ys=e=>qs.call(e)==="[object Object]",Ct=Js();function Js(){var e,t;return ue&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function Xs(e){return de()}function qe(e){return Array.isArray(e)?e:[e]}function Qs(e,t){Xs()&&vn(e,t)}function Zs(e,t,n){return G(e,t,{...n,immediate:!0})}const mt=ue?window:void 0;function Fe(e){var t;const n=De(e);return(t=n==null?void 0:n.$el)!=null?t:n}function Qt(...e){const t=[],n=()=>{t.forEach(l=>l()),t.length=0},s=(l,u,d,c)=>(l.addEventListener(u,d,c),()=>l.removeEventListener(u,d,c)),o=N(()=>{const l=qe(De(e[0])).filter(u=>u!=null);return l.every(u=>typeof u!="string")?l:void 0}),a=Zs(()=>{var l,u;return[(u=(l=o.value)==null?void 0:l.map(d=>Fe(d)))!=null?u:[mt].filter(d=>d!=null),qe(De(o.value?e[1]:e[0])),qe(i(o.value?e[2]:e[1])),De(o.value?e[3]:e[2])]},([l,u,d,c])=>{if(n(),!(l!=null&&l.length)||!(u!=null&&u.length)||!(d!=null&&d.length))return;const p=Ys(c)?{...c}:c;t.push(...l.flatMap(b=>u.flatMap(S=>d.map(g=>s(b,S,g,p)))))},{flush:"post"}),r=()=>{a(),n()};return Xt(n),r}function eo(){const e=bn(!1),t=de();return t&&lt(()=>{e.value=!0},t),e}function to(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function no(...e){let t,n,s={};e.length===3?(t=e[0],n=e[1],s=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],s=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:o=mt,eventName:a="keydown",passive:r=!1,dedupe:l=!1}=s,u=to(t);return Qt(o,a,c=>{c.repeat&&De(l)||u(c)&&n(c)},r)}function so(e){return JSON.parse(JSON.stringify(e))}function Zt(e,t,n,s={}){var o,a,r;const{clone:l=!1,passive:u=!1,eventName:d,deep:c=!1,defaultValue:p,shouldEmit:b}=s,S=de(),g=n||(S==null?void 0:S.emit)||((o=S==null?void 0:S.$emit)==null?void 0:o.bind(S))||((r=(a=S==null?void 0:S.proxy)==null?void 0:a.$emit)==null?void 0:r.bind(S==null?void 0:S.proxy));let v=d;t||(t="modelValue"),v=v||`update:${t.toString()}`;const m=x=>l?typeof l=="function"?l(x):so(x):x,M=()=>Hs(e[t])?m(e[t]):p,y=x=>{b?b(x)&&g(v,x):g(v,x)};if(u){const x=M(),O=I(x);let T=!1;return G(()=>e[t],w=>{T||(T=!0,O.value=m(w),be(()=>T=!1))}),G(O,w=>{!T&&(w!==e[t]||c)&&y(w)},{deep:c}),O}else return N({get(){return M()},set(x){y(x)}})}function en(e,t){const n=typeof e=="string"?`${e}Context`:t,s=Symbol(n);return[r=>{const l=wn(s,r);if(l||l===null)return l;throw new Error(`Injection \`${s.toString()}\` not found. Component must be used within ${Array.isArray(e)?`one of the following components: ${e.join(", ")}`:`\`${e}\``}`)},r=>(xn(s,r),r)]}const[tn,ga]=en("ConfigProvider");function J(){const e=de(),t=I(),n=N(()=>{var r,l;return["#text","#comment"].includes((r=t.value)==null?void 0:r.$el.nodeName)?(l=t.value)==null?void 0:l.$el.nextElementSibling:Fe(t)}),s=Object.assign({},e.exposed),o={};for(const r in e.props)Object.defineProperty(o,r,{enumerable:!0,configurable:!0,get:()=>e.props[r]});if(Object.keys(s).length>0)for(const r in s)Object.defineProperty(o,r,{enumerable:!0,configurable:!0,get:()=>s[r]});Object.defineProperty(o,"$el",{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=o;function a(r){t.value=r,r&&(Object.defineProperty(o,"$el",{enumerable:!0,configurable:!0,get:()=>r instanceof Element?r:r.$el}),e.exposed=o)}return{forwardRef:a,currentRef:t,currentElement:n}}let oo=0;function St(e,t="reka"){const n=tn({useId:void 0});return xt?`${t}-${xt()}`:n.useId?`${t}-${n.useId()}`:`${t}-${++oo}`}function ro(e,t){const n=I(e);function s(a){return t[n.value][a]??n.value}return{state:n,dispatch:a=>{n.value=s(a)}}}function ao(e,t){var m;const n=I({}),s=I("none"),o=I(e),a=e.value?"mounted":"unmounted";let r;const l=((m=t.value)==null?void 0:m.ownerDocument.defaultView)??mt,{state:u,dispatch:d}=ro(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),c=M=>{var y;if(ue){const x=new CustomEvent(M,{bubbles:!1,cancelable:!1});(y=t.value)==null||y.dispatchEvent(x)}};G(e,async(M,y)=>{var O;const x=y!==M;if(await be(),x){const T=s.value,w=Ae(t.value);M?(d("MOUNT"),c("enter"),w==="none"&&c("after-enter")):w==="none"||((O=n.value)==null?void 0:O.display)==="none"?(d("UNMOUNT"),c("leave"),c("after-leave")):y&&T!==w?(d("ANIMATION_OUT"),c("leave")):(d("UNMOUNT"),c("after-leave"))}},{immediate:!0});const p=M=>{const y=Ae(t.value),x=y.includes(M.animationName),O=u.value==="mounted"?"enter":"leave";if(M.target===t.value&&x&&(c(`after-${O}`),d("ANIMATION_END"),!o.value)){const T=t.value.style.animationFillMode;t.value.style.animationFillMode="forwards",r=l==null?void 0:l.setTimeout(()=>{var w;((w=t.value)==null?void 0:w.style.animationFillMode)==="forwards"&&(t.value.style.animationFillMode=T)})}M.target===t.value&&y==="none"&&d("ANIMATION_END")},b=M=>{M.target===t.value&&(s.value=Ae(t.value))},S=G(t,(M,y)=>{M?(n.value=getComputedStyle(M),M.addEventListener("animationstart",b),M.addEventListener("animationcancel",p),M.addEventListener("animationend",p)):(d("ANIMATION_END"),r!==void 0&&(l==null||l.clearTimeout(r)),y==null||y.removeEventListener("animationstart",b),y==null||y.removeEventListener("animationcancel",p),y==null||y.removeEventListener("animationend",p))},{immediate:!0}),g=G(u,()=>{const M=Ae(t.value);s.value=u.value==="mounted"?M:"none"});return ct(()=>{S(),g()}),{isPresent:N(()=>["mounted","unmountSuspended"].includes(u.value))}}function Ae(e){return e&&getComputedStyle(e).animationName||"none"}const nn=R({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(e,{slots:t,expose:n}){var d;const{present:s,forceMount:o}=Tt(e),a=I(),{isPresent:r}=ao(s,a);n({present:r});let l=t.default({present:r.value});l=ft(l||[]);const u=de();if(l&&(l==null?void 0:l.length)>1){const c=(d=u==null?void 0:u.parent)!=null&&d.type.name?`<${u.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${c}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}return()=>o.value||s.value||r.value?Pe(t.default({present:r.value})[0],{ref:c=>{const p=Fe(c);return typeof(p==null?void 0:p.hasAttribute)>"u"||(p!=null&&p.hasAttribute("data-reka-popper-content-wrapper")?a.value=p.firstElementChild:a.value=p),p}}):null}});function Le(e){const t=de(),n=t==null?void 0:t.type.emits,s={};return n!=null&&n.length||console.warn(`No emitted event found. Please check component: ${t==null?void 0:t.type.__name}`),n==null||n.forEach(o=>{s[Mn(Ft(o))]=(...a)=>e(o,...a)}),s}function sn(e){const t=de(),n=Object.keys((t==null?void 0:t.type.props)??{}).reduce((o,a)=>{const r=(t==null?void 0:t.type.props[a]).default;return r!==void 0&&(o[a]=r),o},{}),s=kn(e);return N(()=>{const o={},a=(t==null?void 0:t.vnode.props)??{};return Object.keys(a).forEach(r=>{o[Ft(r)]=a[r]}),Object.keys({...n,...o}).reduce((r,l)=>(s.value[l]!==void 0&&(r[l]=s.value[l]),r),{})})}function on(e,t){const n=sn(e),s=t?Le(t):{};return N(()=>({...n.value,...s}))}const[ae,io]=en("DialogRoot"),lo=R({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:!1},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(e,{emit:t}){const n=e,o=Zt(n,"open",t,{defaultValue:n.defaultOpen,passive:n.open===void 0}),a=I(),r=I(),{modal:l}=Tt(n);return io({open:o,modal:l,openModal:()=>{o.value=!0},onOpenChange:u=>{o.value=u},onOpenToggle:()=>{o.value=!o.value},contentId:"",titleId:"",descriptionId:"",triggerElement:a,contentElement:r}),(u,d)=>F(u.$slots,"default",{open:i(o)})}}),co=R({__name:"Teleport",props:{to:{default:"body"},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(e){const t=eo();return(n,s)=>i(t)||n.forceMount?(k(),P(Dn,{key:0,to:n.to,disabled:n.disabled,defer:n.defer},[F(n.$slots,"default")],8,["to","disabled","defer"])):W("",!0)}});function rn(e,t,n){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),s.dispatchEvent(o)}const uo="dismissableLayer.pointerDownOutside",po="dismissableLayer.focusOutside";function an(e,t){const n=t.closest("[data-dismissable-layer]"),s=e.dataset.dismissableLayer===""?e:e.querySelector("[data-dismissable-layer]"),o=Array.from(e.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&s===n||o.indexOf(s)<o.indexOf(n))}function fo(e,t){var a;const n=((a=t==null?void 0:t.value)==null?void 0:a.ownerDocument)??(globalThis==null?void 0:globalThis.document),s=I(!1),o=I(()=>{});return ye(r=>{if(!ue)return;const l=async d=>{const c=d.target;if(t!=null&&t.value){if(an(t.value,c)){s.value=!1;return}if(d.target&&!s.value){let p=function(){rn(uo,e,b)};const b={originalEvent:d};d.pointerType==="touch"?(n.removeEventListener("click",o.value),o.value=p,n.addEventListener("click",o.value,{once:!0})):p()}else n.removeEventListener("click",o.value);s.value=!1}},u=window.setTimeout(()=>{n.addEventListener("pointerdown",l)},0);r(()=>{window.clearTimeout(u),n.removeEventListener("pointerdown",l),n.removeEventListener("click",o.value)})}),{onPointerDownCapture:()=>s.value=!0}}function mo(e,t){var o;const n=((o=t==null?void 0:t.value)==null?void 0:o.ownerDocument)??(globalThis==null?void 0:globalThis.document),s=I(!1);return ye(a=>{if(!ue)return;const r=async l=>{t!=null&&t.value&&(await be(),!(!t.value||an(t.value,l.target))&&l.target&&!s.value&&rn(po,e,{originalEvent:l}))};n.addEventListener("focusin",r),a(()=>n.removeEventListener("focusin",r))}),{onFocusCapture:()=>s.value=!0,onBlurCapture:()=>s.value=!1}}const Q=Lt({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),go=R({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(e,{emit:t}){const n=e,s=t,{forwardRef:o,currentElement:a}=J(),r=N(()=>{var g;return((g=a.value)==null?void 0:g.ownerDocument)??globalThis.document}),l=N(()=>Q.layersRoot),u=N(()=>a.value?Array.from(l.value).indexOf(a.value):-1),d=N(()=>Q.layersWithOutsidePointerEventsDisabled.size>0),c=N(()=>{const g=Array.from(l.value),[v]=[...Q.layersWithOutsidePointerEventsDisabled].slice(-1),m=g.indexOf(v);return u.value>=m}),p=fo(async g=>{const v=[...Q.branches].some(m=>m==null?void 0:m.contains(g.target));!c.value||v||(s("pointerDownOutside",g),s("interactOutside",g),await be(),g.defaultPrevented||s("dismiss"))},a),b=mo(g=>{[...Q.branches].some(m=>m==null?void 0:m.contains(g.target))||(s("focusOutside",g),s("interactOutside",g),g.defaultPrevented||s("dismiss"))},a);no("Escape",g=>{u.value===l.value.size-1&&(s("escapeKeyDown",g),g.defaultPrevented||s("dismiss"))});let S;return ye(g=>{a.value&&(n.disableOutsidePointerEvents&&(Q.layersWithOutsidePointerEventsDisabled.size===0&&(S=r.value.body.style.pointerEvents,r.value.body.style.pointerEvents="none"),Q.layersWithOutsidePointerEventsDisabled.add(a.value)),l.value.add(a.value),g(()=>{n.disableOutsidePointerEvents&&Q.layersWithOutsidePointerEventsDisabled.size===1&&(r.value.body.style.pointerEvents=S)}))}),ye(g=>{g(()=>{a.value&&(l.value.delete(a.value),Q.layersWithOutsidePointerEventsDisabled.delete(a.value))})}),(g,v)=>(k(),P(i(Me),{ref:i(o),"as-child":g.asChild,as:g.as,"data-dismissable-layer":"",style:et({pointerEvents:d.value?c.value?"auto":"none":void 0}),onFocusCapture:i(b).onFocusCapture,onBlurCapture:i(b).onBlurCapture,onPointerdownCapture:i(p).onPointerDownCapture},{default:$(()=>[F(g.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}});function re(){let e=document.activeElement;if(e==null)return null;for(;e!=null&&e.shadowRoot!=null&&e.shadowRoot.activeElement!=null;)e=e.shadowRoot.activeElement;return e}function vo(e){return e?"open":"closed"}const Ye="focusScope.autoFocusOnMount",Je="focusScope.autoFocusOnUnmount",$t={bubbles:!1,cancelable:!0};function ho(e,{select:t=!1}={}){const n=re();for(const s of e)if(oe(s,{select:t}),re()!==n)return!0}function yo(e){const t=ln(e),n=Ot(t,e),s=Ot(t.reverse(),e);return[n,s]}function ln(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ot(e,t){for(const n of e)if(!bo(n,{upTo:t}))return n}function bo(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function wo(e){return e instanceof HTMLInputElement&&"select"in e}function oe(e,{select:t=!1}={}){if(e&&e.focus){const n=re();e.focus({preventScroll:!0}),e!==n&&wo(e)&&t&&e.select()}}const xo=Gs(()=>I([]));function Mo(){const e=xo();return{add(t){const n=e.value[0];t!==n&&(n==null||n.pause()),e.value=At(e.value,t),e.value.unshift(t)},remove(t){var n;e.value=At(e.value,t),(n=e.value[0])==null||n.resume()}}}function At(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function ko(e){return e.filter(t=>t.tagName!=="A")}const Do=R({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,s=t,{currentRef:o,currentElement:a}=J(),r=I(null),l=Mo(),u=Lt({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});ye(c=>{if(!ue)return;const p=a.value;if(!n.trapped)return;function b(m){if(u.paused||!p)return;const M=m.target;p.contains(M)?r.value=M:oe(r.value,{select:!0})}function S(m){if(u.paused||!p)return;const M=m.relatedTarget;M!==null&&(p.contains(M)||oe(r.value,{select:!0}))}function g(m){p.contains(r.value)||oe(p)}document.addEventListener("focusin",b),document.addEventListener("focusout",S);const v=new MutationObserver(g);p&&v.observe(p,{childList:!0,subtree:!0}),c(()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",S),v.disconnect()})}),ye(async c=>{const p=a.value;if(await be(),!p)return;l.add(u);const b=re();if(!p.contains(b)){const g=new CustomEvent(Ye,$t);p.addEventListener(Ye,v=>s("mountAutoFocus",v)),p.dispatchEvent(g),g.defaultPrevented||(ho(ko(ln(p)),{select:!0}),re()===b&&oe(p))}c(()=>{p.removeEventListener(Ye,m=>s("mountAutoFocus",m));const g=new CustomEvent(Je,$t),v=m=>{s("unmountAutoFocus",m)};p.addEventListener(Je,v),p.dispatchEvent(g),setTimeout(()=>{g.defaultPrevented||oe(b??document.body,{select:!0}),p.removeEventListener(Je,v),l.remove(u)},0)})});function d(c){if(!n.loop&&!n.trapped||u.paused)return;const p=c.key==="Tab"&&!c.altKey&&!c.ctrlKey&&!c.metaKey,b=re();if(p&&b){const S=c.currentTarget,[g,v]=yo(S);g&&v?!c.shiftKey&&b===v?(c.preventDefault(),n.loop&&oe(g,{select:!0})):c.shiftKey&&b===g&&(c.preventDefault(),n.loop&&oe(v,{select:!0})):b===S&&c.preventDefault()}}return(c,p)=>(k(),P(i(Me),{ref_key:"currentRef",ref:o,tabindex:"-1","as-child":c.asChild,as:c.as,onKeydown:d},{default:$(()=>[F(c.$slots,"default")]),_:3},8,["as-child","as"]))}}),cn=R({__name:"DialogContentImpl",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,s=t,o=ae(),{forwardRef:a,currentElement:r}=J();return o.titleId||(o.titleId=St(void 0,"reka-dialog-title")),o.descriptionId||(o.descriptionId=St(void 0,"reka-dialog-description")),lt(()=>{o.contentElement=r,re()!==document.body&&(o.triggerElement.value=re())}),(l,u)=>(k(),P(i(Do),{"as-child":"",loop:"",trapped:n.trapFocus,onMountAutoFocus:u[5]||(u[5]=d=>s("openAutoFocus",d)),onUnmountAutoFocus:u[6]||(u[6]=d=>s("closeAutoFocus",d))},{default:$(()=>[C(i(go),q({id:i(o).contentId,ref:i(a),as:l.as,"as-child":l.asChild,"disable-outside-pointer-events":l.disableOutsidePointerEvents,role:"dialog","aria-describedby":i(o).descriptionId,"aria-labelledby":i(o).titleId,"data-state":i(vo)(i(o).open.value)},l.$attrs,{onDismiss:u[0]||(u[0]=d=>i(o).onOpenChange(!1)),onEscapeKeyDown:u[1]||(u[1]=d=>s("escapeKeyDown",d)),onFocusOutside:u[2]||(u[2]=d=>s("focusOutside",d)),onInteractOutside:u[3]||(u[3]=d=>s("interactOutside",d)),onPointerDownOutside:u[4]||(u[4]=d=>s("pointerDownOutside",d))}),{default:$(()=>[F(l.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}});var Eo=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ge=new WeakMap,_e=new WeakMap,Ie={},Xe=0,dn=function(e){return e&&(e.host||dn(e.parentNode))},Co=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=dn(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},So=function(e,t,n,s){var o=Co(t,Array.isArray(e)?e:[e]);Ie[n]||(Ie[n]=new WeakMap);var a=Ie[n],r=[],l=new Set,u=new Set(o),d=function(p){!p||l.has(p)||(l.add(p),d(p.parentNode))};o.forEach(d);var c=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(b){if(l.has(b))c(b);else try{var S=b.getAttribute(s),g=S!==null&&S!=="false",v=(ge.get(b)||0)+1,m=(a.get(b)||0)+1;ge.set(b,v),a.set(b,m),r.push(b),v===1&&g&&_e.set(b,!0),m===1&&b.setAttribute(n,"true"),g||b.setAttribute(s,"true")}catch(M){console.error("aria-hidden: cannot operate on ",b,M)}})};return c(t),l.clear(),Xe++,function(){r.forEach(function(p){var b=ge.get(p)-1,S=a.get(p)-1;ge.set(p,b),a.set(p,S),b||(_e.has(p)||p.removeAttribute(s),_e.delete(p)),S||p.removeAttribute(n)}),Xe--,Xe||(ge=new WeakMap,ge=new WeakMap,_e=new WeakMap,Ie={})}},$o=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),o=Eo(e);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live]"))),So(s,o,n,"aria-hidden")):function(){return null}};function Oo(e){let t;G(()=>Fe(e),n=>{n?t=$o(n):t&&t()}),ct(()=>{t&&t()})}const Ao=R({__name:"DialogContentModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,s=t,o=ae(),a=Le(s),{forwardRef:r,currentElement:l}=J();return Oo(l),(u,d)=>(k(),P(cn,q({...n,...i(a)},{ref:i(r),"trap-focus":i(o).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:d[0]||(d[0]=c=>{var p;c.defaultPrevented||(c.preventDefault(),(p=i(o).triggerElement.value)==null||p.focus())}),onPointerDownOutside:d[1]||(d[1]=c=>{const p=c.detail.originalEvent,b=p.button===0&&p.ctrlKey===!0;(p.button===2||b)&&c.preventDefault()}),onFocusOutside:d[2]||(d[2]=c=>{c.preventDefault()})}),{default:$(()=>[F(u.$slots,"default")]),_:3},16,["trap-focus"]))}}),_o=R({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,o=Le(t);J();const a=ae(),r=I(!1),l=I(!1);return(u,d)=>(k(),P(cn,q({...n,...i(o)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:d[0]||(d[0]=c=>{var p;c.defaultPrevented||(r.value||(p=i(a).triggerElement.value)==null||p.focus(),c.preventDefault()),r.value=!1,l.value=!1}),onInteractOutside:d[1]||(d[1]=c=>{var S;c.defaultPrevented||(r.value=!0,c.detail.originalEvent.type==="pointerdown"&&(l.value=!0));const p=c.target;((S=i(a).triggerElement.value)==null?void 0:S.contains(p))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&l.value&&c.preventDefault()})}),{default:$(()=>[F(u.$slots,"default")]),_:3},16))}}),Io=R({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,s=t,o=ae(),a=Le(s),{forwardRef:r}=J();return(l,u)=>(k(),P(i(nn),{present:l.forceMount||i(o).open.value},{default:$(()=>[i(o).modal.value?(k(),P(Ao,q({key:0,ref:i(r)},{...n,...i(a),...l.$attrs}),{default:$(()=>[F(l.$slots,"default")]),_:3},16)):(k(),P(_o,q({key:1,ref:i(r)},{...n,...i(a),...l.$attrs}),{default:$(()=>[F(l.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Ro=Ks(()=>{const e=I(new Map),t=I(),n=N(()=>{for(const r of e.value.values())if(r)return!0;return!1}),s=tn({scrollBody:I(!0)});let o=null;const a=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.body.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",Ct&&(o==null||o()),t.value=void 0};return G(n,(r,l)=>{var p;if(!ue)return;if(!r){l&&a();return}t.value===void 0&&(t.value=document.body.style.overflow);const u=window.innerWidth-document.documentElement.clientWidth,d={padding:u,margin:0},c=(p=s.scrollBody)!=null&&p.value?typeof s.scrollBody.value=="object"?En({padding:s.scrollBody.value.padding===!0?u:s.scrollBody.value.padding,margin:s.scrollBody.value.margin===!0?u:s.scrollBody.value.margin},d):d:{padding:0,margin:0};u>0&&(document.body.style.paddingRight=typeof c.padding=="number"?`${c.padding}px`:String(c.padding),document.body.style.marginRight=typeof c.margin=="number"?`${c.margin}px`:String(c.margin),document.body.style.setProperty("--scrollbar-width",`${u}px`),document.body.style.overflow="hidden"),Ct&&(o=Qt(document,"touchmove",b=>Uo(b),{passive:!1})),be(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function Po(e){const t=Math.random().toString(36).substring(2,7),n=Ro();n.value.set(t,e);const s=N({get:()=>n.value.get(t)??!1,set:o=>n.value.set(t,o)});return Qs(()=>{n.value.delete(t)}),s}function un(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:un(n)}}function Uo(e){const t=e||window.event,n=t.target;return n instanceof Element&&un(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}const To=R({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean},as:{}},setup(e){const t=ae();return Po(!0),J(),(n,s)=>(k(),P(i(Me),{as:n.as,"as-child":n.asChild,"data-state":i(t).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:$(()=>[F(n.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),Fo=R({__name:"DialogOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e){const t=ae(),{forwardRef:n}=J();return(s,o)=>{var a;return(a=i(t))!=null&&a.modal.value?(k(),P(i(nn),{key:0,present:s.forceMount||i(t).open.value},{default:$(()=>[C(To,q(s.$attrs,{ref:i(n),as:s.as,"as-child":s.asChild}),{default:$(()=>[F(s.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):W("",!0)}}}),Lo=R({__name:"DialogClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(e){const t=e;J();const n=ae();return(s,o)=>(k(),P(i(Me),q(t,{type:s.as==="button"?"button":void 0,onClick:o[0]||(o[0]=a=>i(n).onOpenChange(!1))}),{default:$(()=>[F(s.$slots,"default")]),_:3},16,["type"]))}}),No=R({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{default:"h2"}},setup(e){const t=e,n=ae();return J(),(s,o)=>(k(),P(i(Me),q(t,{id:i(n).titleId}),{default:$(()=>[F(s.$slots,"default")]),_:3},16,["id"]))}}),Bo=R({__name:"DialogPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(e){const t=e;return(n,s)=>(k(),P(i(co),Nt(Bt(t)),{default:$(()=>[F(n.$slots,"default")]),_:3},16))}}),Ne=R({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const o=on(e,t);return(a,r)=>(k(),P(i(lo),Nt(Bt(i(o))),{default:$(()=>[F(a.$slots,"default")]),_:3},16))}}),Be=R({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,s=t,o=N(()=>{const{class:r,...l}=n;return l}),a=on(o,s);return(r,l)=>(k(),P(i(Bo),null,{default:$(()=>[C(i(Fo),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),C(i(Io),q(i(a),{class:i(Y)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n.class)}),{default:$(()=>[F(r.$slots,"default"),C(i(Lo),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},{default:$(()=>[C(i(Cn),{class:"w-4 h-4"}),l[0]||(l[0]=f("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}}),ze=R({__name:"DialogFooter",props:{class:{}},setup(e){const t=e;return(n,s)=>(k(),_("div",{class:h(i(Y)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",t.class))},[F(n.$slots,"default")],2))}}),je=R({__name:"DialogHeader",props:{class:{}},setup(e){const t=e;return(n,s)=>(k(),_("div",{class:h(i(Y)("flex flex-col gap-y-1.5 text-center sm:text-left",t.class))},[F(n.$slots,"default")],2))}}),Ve=R({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,n=N(()=>{const{class:o,...a}=t;return a}),s=sn(n);return(o,a)=>(k(),P(i(No),q(i(s),{class:i(Y)("text-lg font-semibold leading-none tracking-tight",t.class)}),{default:$(()=>[F(o.$slots,"default")]),_:3},16,["class"]))}}),_t=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,It=jt,pn=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return It(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:a}=t,r=Object.keys(o).map(d=>{const c=n==null?void 0:n[d],p=a==null?void 0:a[d];if(c===null)return null;const b=_t(c)||_t(p);return o[d][b]}),l=n&&Object.entries(n).reduce((d,c)=>{let[p,b]=c;return b===void 0||(d[p]=b),d},{}),u=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,c)=>{let{class:p,className:b,...S}=c;return Object.entries(S).every(g=>{let[v,m]=g;return Array.isArray(m)?m.includes({...a,...l}[v]):{...a,...l}[v]===m})?[...d,p,b]:d},[]);return It(e,r,u,n==null?void 0:n.class,n==null?void 0:n.className)},Z=R({__name:"Button",props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(e){const t=e;return(n,s)=>(k(),P(i(Me),{as:n.as,"as-child":n.asChild,class:h(i(Y)(i(zo)({variant:n.variant,size:n.size}),t.class))},{default:$(()=>[F(n.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),zo=pn("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",xs:"h-7 rounded px-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),jo={class:"p-4 flex justify-between items-center"},Vo={class:"flex items-center gap-2"},Wo=["onClick"],Go={class:"flex flex-col h-full"},Ko={class:"text-right"},Ho={class:"flex-1 mt-1"},qo={class:"hidden md:flex flex-wrap gap-1"},Yo=["src","onClick"],Jo={key:3,style:{position:"absolute",top:"-4px",right:"-4px",width:"16px",height:"16px","background-color":"rgb(251, 191, 36)","border-radius":"50%",border:"1px solid white","z-index":"10",display:"flex","align-items":"center","justify-content":"center"}},Xo={key:0,class:"rounded-full",style:{width:"28px",height:"28px","background-color":"rgb(37, 99, 235)",display:"flex","align-items":"center","justify-content":"center",color:"white","font-size":"0.75rem"}},Qo={class:"flex md:hidden flex-wrap gap-1"},Zo=["src","onClick"],er={key:3,style:{position:"absolute",top:"-4px",right:"-4px",width:"12px",height:"12px","background-color":"rgb(251, 191, 36)","border-radius":"50%",border:"1px solid white","z-index":"10",display:"flex","align-items":"center","justify-content":"center"}},tr={key:0,class:"rounded-full",style:{width:"24px",height:"24px","background-color":"rgb(37, 99, 235)",display:"flex","align-items":"center","justify-content":"center",color:"white","font-size":"0.625rem"}},nr={class:"flex justify-center"},sr=["src"],or={__name:"FinanceCalendar",props:{movements:Array,selectedDate:Date,currentMonth:Date,isDarkMode:Boolean},emits:["update:selected-date","update:current-month"],setup(e,{emit:t}){const n=e,s=t,o=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],a=I(new Date(n.currentMonth)),r=I(""),l=Te(),u=I(0);G(()=>l.movements.value,()=>{u.value++},{deep:!0}),G(()=>n.currentMonth,y=>{a.value=new Date(y)});const d=N(()=>{const y=a.value.getFullYear(),x=a.value.getMonth();let T=new Date(y,x,1).getDay();T===0&&(T=7);const w=T-1,j=new Date(y,x,1-w),ee=[];for(let pe=0;pe<42;pe++){const te=new Date(j);te.setDate(j.getDate()+pe),ee.push({date:te,isCurrentMonth:te.getMonth()===x})}return ee[35].date.getMonth()!==x&&ee[34].date.getMonth()!==x?ee.slice(0,35):ee}),c=y=>(u.value,l.getDayMovements(y)),p=y=>new Intl.DateTimeFormat("fr-FR",{month:"long",year:"numeric"}).format(y),b=()=>{const y=new Date(a.value);y.setMonth(y.getMonth()-1),a.value=y,s("update:current-month",y)},S=()=>{const y=new Date(a.value);y.setMonth(y.getMonth()+1),a.value=y,s("update:current-month",y)},g=y=>{const x=new Date;return y.getDate()===x.getDate()&&y.getMonth()===x.getMonth()&&y.getFullYear()===x.getFullYear()},v=y=>y.getDate()===n.selectedDate.getDate()&&y.getMonth()===n.selectedDate.getMonth()&&y.getFullYear()===n.selectedDate.getFullYear(),m=y=>{s("update:selected-date",new Date(y.date))},M=y=>{y&&y.length>0&&!y.startsWith("blob:")&&(r.value=y)};return(y,x)=>(k(),_("div",{class:h(["rounded-xl overflow-hidden",e.isDarkMode?"bg-gray-900":"bg-white",e.isDarkMode?"border-gray-800":"border border-gray-200"])},[f("div",jo,[f("h2",{class:h(["text-xl font-semibold",e.isDarkMode?"text-white":"text-gray-900"])}," Calendrier ",2),f("div",Vo,[f("button",{onClick:b,class:h(["p-1 rounded-md",e.isDarkMode?"hover:bg-gray-800":"hover:bg-gray-100"])},[C(i(In),{class:h(["h-5 w-5",e.isDarkMode?"text-gray-400":"text-gray-600"])},null,8,["class"])],2),f("span",{class:h(e.isDarkMode?"text-white":"text-gray-900")},L(p(i(a))),3),f("button",{onClick:S,class:h(["p-1 rounded-md",e.isDarkMode?"hover:bg-gray-800":"hover:bg-gray-100"])},[C(i(Rn),{class:h(["h-5 w-5",e.isDarkMode?"text-gray-400":"text-gray-600"])},null,8,["class"])],2)])]),f("div",{class:h(["grid grid-cols-7 gap-px",e.isDarkMode?"bg-gray-800":"bg-gray-200"])},[(k(),_(ve,null,ke(o,O=>f("div",{key:O,class:h(["p-2 text-center text-sm font-medium",e.isDarkMode?"bg-gray-900 text-gray-400":"bg-white text-gray-500"])},L(O),3)),64)),(k(!0),_(ve,null,ke(i(d),(O,T)=>(k(),_("div",{key:T,onClick:w=>m(O),class:h(["p-2","md:min-h-[100px]","min-h-[80px]",e.isDarkMode?"bg-gray-900":"bg-white",e.isDarkMode&&!O.isCurrentMonth?"text-gray-700":"",!e.isDarkMode&&!O.isCurrentMonth?"text-gray-300":"",e.isDarkMode&&O.isCurrentMonth?"text-gray-300":"",!e.isDarkMode&&O.isCurrentMonth?"text-gray-600":"",e.isDarkMode&&v(O.date)?"bg-gray-800 border border-green-500":"",!e.isDarkMode&&v(O.date)?"bg-green-50 border border-green-500":"",e.isDarkMode&&g(O.date)?"font-bold text-white":"",!e.isDarkMode&&g(O.date)?"font-bold text-black":"","hover:cursor-pointer"])},[f("div",Go,[f("div",Ko,L(O.date.getDate()),1),f("div",Ho,[f("div",qo,[(k(!0),_(ve,null,ke(c(O.date).slice(0,4),w=>(k(),_("div",{key:`desktop-${w.id}`,style:et([{position:"relative",width:"28px",height:"28px"},w.type==="income"?e.isDarkMode?"background-color: rgb(22, 101, 52);":"background-color: rgb(220, 252, 231);":e.isDarkMode?"background-color: rgb(153, 27, 27);":"background-color: rgb(254, 226, 226);"]),class:"rounded-full"},[w.imageUrl&&w.imageUrl.length>0?(k(),_("img",{key:0,src:w.imageUrl,alt:"",class:"rounded-full",style:{width:"100%",height:"100%","object-fit":"cover",cursor:"pointer"},onClick:Mt(j=>M(w.imageUrl),["stop"])},null,8,Yo)):w.type==="expense"?(k(),P(i(tt),{key:1,class:h(["w-4 h-4",e.isDarkMode?"text-red-200":"text-red-500"]),style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},null,8,["class"])):(k(),P(i(nt),{key:2,class:h(["w-4 h-4",e.isDarkMode?"text-green-200":"text-green-500"]),style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},null,8,["class"])),w.isRecurrent||w.isGeneratedRecurrence?(k(),_("div",Jo,[C(i(ot),{class:"w-3 h-3 text-white"})])):W("",!0)],4))),128)),c(O.date).length>4?(k(),_("div",Xo," +"+L(c(O.date).length-4),1)):W("",!0)]),f("div",Qo,[(k(!0),_(ve,null,ke(c(O.date).slice(0,2),w=>(k(),_("div",{key:`mobile-${w.id}`,style:et([{position:"relative",width:"24px",height:"24px"},w.type==="income"?e.isDarkMode?"background-color: rgb(22, 101, 52);":"background-color: rgb(220, 252, 231);":e.isDarkMode?"background-color: rgb(153, 27, 27);":"background-color: rgb(254, 226, 226);"]),class:"rounded-full"},[w.imageUrl&&w.imageUrl.length>0?(k(),_("img",{key:0,src:w.imageUrl,alt:"",class:"rounded-full",style:{width:"100%",height:"100%","object-fit":"cover",cursor:"pointer"},onClick:Mt(j=>M(w.imageUrl),["stop"])},null,8,Zo)):w.type==="expense"?(k(),P(i(tt),{key:1,class:h(["w-4 h-4",e.isDarkMode?"text-red-200":"text-red-500"]),style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},null,8,["class"])):(k(),P(i(nt),{key:2,class:h(["w-4 h-4",e.isDarkMode?"text-green-200":"text-green-500"]),style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},null,8,["class"])),w.isRecurrent||w.isGeneratedRecurrence?(k(),_("div",er,[C(i(ot),{class:"w-2 h-2 text-white"})])):W("",!0)],4))),128)),c(O.date).length>2?(k(),_("div",tr," +"+L(c(O.date).length-2),1)):W("",!0)])])])],10,Wo))),128))],2),C(i(Ne),{open:!!i(r)&&i(r).length>0,"onUpdate:open":x[1]||(x[1]=O=>r.value="")},{default:$(()=>[C(i(Be),{class:h([e.isDarkMode?"dark bg-gray-900":"bg-white","max-w-2xl"])},{default:$(()=>[C(i(je),null,{default:$(()=>[C(i(Ve),{class:h(e.isDarkMode?"text-white":"text-gray-900")},{default:$(()=>x[2]||(x[2]=[z("Aperçu de l'image")])),_:1},8,["class"])]),_:1}),f("div",nr,[f("img",{src:i(r),alt:"Aperçu",class:"max-h-80 max-w-full object-contain"},null,8,sr)]),C(i(ze),null,{default:$(()=>[C(i(Z),{onClick:x[0]||(x[0]=O=>r.value="")},{default:$(()=>x[3]||(x[3]=[z("Fermer")])),_:1})]),_:1})]),_:1},8,["class"])]),_:1},8,["open"])],2))}},he=R({__name:"Input",props:{defaultValue:{},modelValue:{},class:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=Zt(n,"modelValue",t,{passive:!0,defaultValue:n.defaultValue});return(a,r)=>Sn((k(),_("input",{"onUpdate:modelValue":r[0]||(r[0]=l=>dt(o)?o.value=l:null),class:h(i(Y)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n.class))},null,2)),[[$n,i(o)]])}}),rr={class:"p-4 sm:p-6 space-y-4 sm:space-y-6"},ar={class:"space-y-2 sm:space-y-3"},ir={class:"grid grid-cols-2 gap-2"},lr={class:"space-y-3 sm:space-y-4"},cr={class:"space-y-1 sm:space-y-2"},dr={class:"space-y-1 sm:space-y-2"},ur={class:"relative"},pr={class:"space-y-1 sm:space-y-2"},fr={class:"space-y-1 sm:space-y-2"},mr={class:"flex flex-wrap items-center gap-2"},gr={key:0,class:"mt-2 relative"},vr=["src"],hr={class:"items-center justify-center"},yr={key:1,class:"mt-2 relative"},br=["src"],wr={class:"items-center justify-center"},xr={class:"space-y-2 sm:space-y-3"},Mr={class:"grid grid-cols-1 gap-2"},kr=R({__name:"EditMovementDialog",props:{isOpen:{type:Boolean},isDarkMode:{type:Boolean},movement:{}},emits:["update:isOpen","saveMovement","deleteMovement"],setup(e,{emit:t}){const n=e,s=t,o=I(null),a=I(""),r=I(""),l=I(null),u=I(""),d=I({id:0,name:"",amount:0,date:new Date,type:"expense",isRecurrent:!1,imageUrl:""});G(()=>n.movement,v=>{if(v){d.value={...v};const m=new Date(v.date);isNaN(m.getTime())||(u.value=m.toISOString().split("T")[0]),a.value="",r.value="",l.value=null}},{immediate:!0}),G(u,v=>{v&&(d.value.date=new Date(v))});const c=v=>{const m=v.target;if(m.files&&m.files.length>0){const M=m.files[0];l.value=M,r.value=M.name;const y=new FileReader;y.onload=x=>{x.target&&(a.value=x.target.result,d.value.imageUrl="")},y.readAsDataURL(M)}},p=()=>{a.value="",r.value="",l.value=null,o.value&&(o.value.value="")},b=()=>{d.value.imageUrl=""},S=()=>{if(!d.value.name||!d.value.amount||!d.value.date)return;const v={...d.value};a.value&&a.value.length>0&&(v.imageUrl=a.value,v.imageUrl.startsWith("blob:")&&console.error("URL Blob détectée, conversion en base64 nécessaire")),s("saveMovement",v),p()},g=()=>{n.movement&&s("deleteMovement",n.movement.id)};return(v,m)=>(k(),P(i(Ne),{open:v.isOpen,"onUpdate:open":m[8]||(m[8]=M=>v.$emit("update:isOpen",M))},{default:$(()=>[C(i(Be),{class:h(["p-0 w-full sm:max-w-[500px] max-h-[90vh] overflow-y-auto",v.isDarkMode?"bg-gray-900 border-gray-800":"bg-white border-slate-200"])},{default:$(()=>[C(i(je),{class:h(["sticky top-0 z-10 p-4 sm:p-6 border-b",v.isDarkMode?"border-gray-800 bg-gray-900":"border-slate-200 bg-white"])},{default:$(()=>[C(i(Ve),{class:h(["text-xl sm:text-2xl font-semibold",v.isDarkMode?"text-white":"text-slate-900"])},{default:$(()=>m[9]||(m[9]=[z(" Modifier un mouvement ")])),_:1},8,["class"])]),_:1},8,["class"]),f("div",rr,[f("div",ar,[f("label",{class:h(["text-sm font-medium",v.isDarkMode?"text-white":"text-slate-900"])}," Type de mouvement ",2),f("div",ir,[f("button",{type:"button",class:h(["w-full px-3 py-2 rounded-md text-sm sm:text-base",i(d).type==="expense"?"bg-red-500 hover:bg-red-600 text-white":"border bg-slate-100"]),onClick:m[0]||(m[0]=M=>i(d).type="expense")}," Dépense ",2),f("button",{type:"button",class:h(["w-full px-3 py-2 rounded-md text-sm sm:text-base",i(d).type==="income"?"bg-emerald-500 hover:bg-emerald-600 text-white":"border bg-slate-100"]),onClick:m[1]||(m[1]=M=>i(d).type="income")}," Revenu ",2)])]),f("div",lr,[f("div",cr,[f("label",{class:h(v.isDarkMode?"text-white":"text-slate-900")},"Nom",2),C(i(he),{modelValue:i(d).name,"onUpdate:modelValue":m[2]||(m[2]=M=>i(d).name=M),type:"text",placeholder:"Ex: Loyer, Salaire...",class:h([v.isDarkMode?"bg-gray-800 border-gray-700 text-white":"bg-white border-slate-200"])},null,8,["modelValue","class"])]),f("div",dr,[f("label",{class:h(v.isDarkMode?"text-white":"text-slate-900")},"Montant",2),f("div",ur,[C(i(he),{modelValue:i(d).amount,"onUpdate:modelValue":m[3]||(m[3]=M=>i(d).amount=M),type:"number",placeholder:"0.00",class:h(["pl-8",[v.isDarkMode?"bg-gray-800 border-gray-700 text-white":"bg-white border-slate-200"]])},null,8,["modelValue","class"]),m[10]||(m[10]=f("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"},"€",-1))])]),f("div",pr,[f("label",{class:h(v.isDarkMode?"text-white":"text-slate-900")},"Date",2),C(i(he),{modelValue:i(u),"onUpdate:modelValue":m[4]||(m[4]=M=>dt(u)?u.value=M:null),type:"date",class:h([v.isDarkMode?"bg-gray-800 border-gray-700 text-white":"bg-white border-slate-200"])},null,8,["modelValue","class"])]),f("div",fr,[f("label",{class:h(v.isDarkMode?"text-white":"text-slate-900")},"Image (optionnel)",2),f("div",mr,[f("input",{type:"file",id:"image",accept:"image/*",onChange:c,class:"hidden",ref_key:"fileInput",ref:o},null,544),f("button",{type:"button",onClick:m[5]||(m[5]=M=>v.$refs.fileInput.click()),class:h(["px-3 py-2 rounded-md flex items-center gap-1 text-sm sm:text-base",v.isDarkMode?"bg-gray-800 hover:bg-gray-700 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"])},m[11]||(m[11]=[f("span",null,"Choisir une image",-1)]),2),f("span",{class:h(["text-sm",v.isDarkMode?"text-gray-400":"text-gray-500"])},L(i(r)||"Aucun fichier sélectionné"),3)]),i(a)?(k(),_("div",gr,[f("img",{src:i(a),alt:"Prévisualisation",class:"h-24 w-auto object-cover rounded-md"},null,8,vr),f("button",{type:"button",onClick:p,class:"absolute top-1 right-1 bg-red-500 text-white rounded-full"},[f("span",hr,[C(i(st))])])])):i(d).imageUrl&&i(d).imageUrl.length>0?(k(),_("div",yr,[f("img",{src:i(d).imageUrl,alt:"Image actuelle",class:"h-24 w-auto object-cover rounded-md"},null,8,br),f("button",{type:"button",onClick:b,class:"absolute top-1 right-1 bg-red-500 text-white rounded-full"},[f("span",wr,[C(i(st))])])])):W("",!0)])]),f("div",xr,[f("label",{class:h(["text-sm font-medium",v.isDarkMode?"text-white":"text-slate-900"])}," Type de récurrence ",2),f("div",Mr,[C(i(Z),{variant:"outline",class:h(["justify-start py-1 sm:py-2 text-sm sm:text-base",i(d).isRecurrent?"":"bg-emerald-500 hover:bg-emerald-600 text-white"]),onClick:m[6]||(m[6]=M=>i(d).isRecurrent=!1)},{default:$(()=>m[12]||(m[12]=[f("span",{class:"mr-2"},"🔄",-1),z(" Pas de récurrence ")])),_:1},8,["class"]),C(i(Z),{variant:"outline",class:h(["justify-start py-1 sm:py-2 text-sm sm:text-base",i(d).isRecurrent?"bg-emerald-500 hover:bg-emerald-600 text-white":""]),onClick:m[7]||(m[7]=M=>i(d).isRecurrent=!0)},{default:$(()=>m[13]||(m[13]=[f("span",{class:"mr-2"},"📅",-1),z(" Mensuel ")])),_:1},8,["class"])])])]),C(i(ze),{class:h(["sticky bottom-0 z-10 p-4 sm:p-6 border-t flex space-x-2",v.isDarkMode?"border-gray-800 bg-gray-900":"border-slate-200 bg-white"])},{default:$(()=>[C(i(Z),{class:"w-1/2 bg-red-500 hover:bg-red-600 text-white",onClick:g},{default:$(()=>m[14]||(m[14]=[z(" Supprimer ")])),_:1}),C(i(Z),{class:"w-1/2 bg-emerald-500 hover:bg-emerald-600 text-white",onClick:S},{default:$(()=>m[15]||(m[15]=[z(" Enregistrer ")])),_:1})]),_:1},8,["class"])]),_:1},8,["class"])]),_:1},8,["open"]))}}),Dr={class:"p-4"},Er=["src","onClick"],Cr={key:3,class:"absolute -top-1 -right-1 w-4 h-4 bg-amber-400 rounded-full flex items-center justify-center"},Sr={class:"flex-1"},$r={key:0,class:"flex items-center"},Or=["onClick"],Ar={key:0,class:"p-6 text-center"},_r={class:"flex justify-center"},Ir=["src"],Rr=R({__name:"MovementsList",props:{movements:{},selectedDate:{},isDarkMode:{type:Boolean}},emits:["movement-updated"],setup(e,{emit:t}){const n=e,s=t,o=I(""),a=Te(),r=I(0),l=I(!1),u=I(null);G(()=>a.movements.value,()=>{r.value++},{deep:!0});const d=N(()=>{if(r.value,!n.selectedDate||!(n.selectedDate instanceof Date)||isNaN(n.selectedDate.getTime()))return console.error("Date invalide:",n.selectedDate),[];try{return a.getDayMovements(n.selectedDate).sort((v,m)=>{const M=v.date instanceof Date?v.date:new Date(v.date),y=m.date instanceof Date?m.date:new Date(m.date);if(isNaN(M.getTime())||isNaN(y.getTime()))return 0;const x=y.getTime()-M.getTime();return x!==0?x:v.type!==m.type?v.type==="income"?-1:1:m.amount-v.amount})}catch(g){return console.error("Erreur lors du filtrage des mouvements:",g),[]}}),c=g=>{g&&g.length>0&&!g.startsWith("blob:")?o.value=g:console.error("URL d'image invalide:",g)},p=g=>{g.isGeneratedRecurrence||(u.value=g,l.value=!0)},b=g=>{a.updateMovement(g)&&(l.value=!1,u.value=null,r.value++,s("movement-updated"))},S=g=>{a.deleteMovement(g),l.value=!1,u.value=null,r.value++,s("movement-updated")};return(g,v)=>(k(),_("div",{class:h(["rounded-xl overflow-hidden",g.isDarkMode?"bg-gray-900":"bg-white",g.isDarkMode?"border-gray-800":"border border-gray-200"])},[f("div",Dr,[f("h2",{class:h(["text-xl font-semibold",g.isDarkMode?"text-white":"text-gray-900"])}," Mouvements ",2)]),f("div",{class:h(["divide-y",g.isDarkMode?"divide-gray-800":"divide-gray-100"])},[(k(!0),_(ve,null,ke(i(d),m=>(k(),_("div",{key:m.id,class:"p-4 flex items-center gap-3"},[f("div",{class:h(["w-10 h-10 rounded-full flex-shrink-0 flex items-center justify-center relative",m.type==="income"?"bg-green-100":"bg-red-100",g.isDarkMode&&m.type==="income"?"bg-green-800":"",g.isDarkMode&&m.type==="expense"?"bg-red-800":""])},[m.imageUrl&&m.imageUrl.length>0?(k(),_("img",{key:0,src:m.imageUrl,alt:"",class:"w-full h-full object-cover rounded-full cursor-pointer",onClick:M=>c(m.imageUrl)},null,8,Er)):m.type==="expense"?(k(),P(i(tt),{key:1,class:h(["w-6 h-6",g.isDarkMode?"text-red-200":"text-red-500"])},null,8,["class"])):(k(),P(i(nt),{key:2,class:h(["w-6 h-6",g.isDarkMode?"text-green-200":"text-green-500"])},null,8,["class"])),m.isRecurrent||m.isGeneratedRecurrence?(k(),_("div",Cr,[C(i(ot),{class:"w-3 h-3 text-white"})])):W("",!0)],2),f("div",Sr,[f("div",{class:h([g.isDarkMode?"text-white":"text-gray-900","flex items-center gap-1"])},[z(L(m.name)+" ",1),m.isRecurrent||m.isGeneratedRecurrence?(k(),_("span",{key:0,class:h(["text-xs px-1.5 py-0.5 rounded-full",g.isDarkMode?"bg-gray-800 text-gray-400":"bg-gray-200 text-gray-600"])}," Récurrent ",2)):W("",!0)],2),f("div",{class:h(["text-sm",g.isDarkMode?"text-gray-400":"text-gray-500"])},L(i(Nn)(new Date(m.date)))+" • "+L(m.type==="expense"?"Dépense":"Revenu"),3)]),f("div",{class:h(["font-semibold",m.type==="income"?"text-green-500":"text-red-500"])},L(i(se)(m.amount)),3),m.isGeneratedRecurrence?W("",!0):(k(),_("div",$r,[f("button",{onClick:M=>p(m),class:h(["p-2 rounded-full",g.isDarkMode?"hover:bg-gray-800":"hover:bg-gray-100"])},[C(i(Un),{class:h(["h-4 w-4",g.isDarkMode?"text-gray-400":"text-gray-600"])},null,8,["class"])],10,Or)]))]))),128)),i(d).length===0?(k(),_("div",Ar,[f("div",{class:h(g.isDarkMode?"text-gray-400":"text-gray-500")}," Aucun mouvement pour cette date ",2)])):W("",!0)],2),C(i(Ne),{open:!!i(o)&&i(o).length>0,"onUpdate:open":v[1]||(v[1]=m=>o.value="")},{default:$(()=>[C(i(Be),{class:h([g.isDarkMode?"dark bg-gray-900":"bg-white","max-w-2xl"])},{default:$(()=>[C(i(je),null,{default:$(()=>[C(i(Ve),{class:h(g.isDarkMode?"text-white":"text-gray-900")},{default:$(()=>v[3]||(v[3]=[z("Aperçu de l'image")])),_:1},8,["class"])]),_:1}),f("div",_r,[f("img",{src:i(o),alt:"Aperçu",class:"max-h-80 max-w-full object-contain"},null,8,Ir)]),C(i(ze),null,{default:$(()=>[C(i(Z),{onClick:v[0]||(v[0]=m=>o.value="")},{default:$(()=>v[4]||(v[4]=[z("Fermer")])),_:1})]),_:1})]),_:1},8,["class"])]),_:1},8,["open"]),C(kr,{"is-open":i(l),"is-dark-mode":g.isDarkMode,movement:i(u),"onUpdate:isOpen":v[2]||(v[2]=m=>l.value=m),onSaveMovement:b,onDeleteMovement:S},null,8,["is-open","is-dark-mode","movement"])],2))}}),Pr=R({__name:"Alert",props:{class:{},variant:{}},setup(e){const t=e;return(n,s)=>(k(),_("div",{class:h(i(Y)(i(Tr)({variant:n.variant}),t.class)),role:"alert"},[F(n.$slots,"default")],2))}}),Ur=R({__name:"AlertDescription",props:{class:{}},setup(e){const t=e;return(n,s)=>(k(),_("div",{class:h(i(Y)("text-sm [&_p]:leading-relaxed",t.class))},[F(n.$slots,"default")],2))}}),Tr=pn("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Fr={maxSizeBytes:2*1024*1024,allowedTypes:["image/jpeg","image/png","image/webp"],maxWidth:1920,maxHeight:1080};async function Lr(e,t={}){const n={...Fr,...t};if(e.size>n.maxSizeBytes)return{isValid:!1,error:`Fichier trop volumineux. Maximum ${Math.round(n.maxSizeBytes/1024/1024)}MB autorisé.`};const s=await Nr(e);if(!n.allowedTypes.includes(s))return{isValid:!1,error:`Type de fichier non autorisé. Types acceptés: ${n.allowedTypes.join(", ")}`};if(n.maxWidth||n.maxHeight)try{const o=await Br(e);if(n.maxWidth&&o.width>n.maxWidth)return{isValid:!1,error:`Largeur trop importante. Maximum ${n.maxWidth}px autorisé.`};if(n.maxHeight&&o.height>n.maxHeight)return{isValid:!1,error:`Hauteur trop importante. Maximum ${n.maxHeight}px autorisé.`}}catch{return{isValid:!1,error:"Impossible de lire les dimensions de l'image."}}return{isValid:!0,file:e}}async function Nr(e){return new Promise((t,n)=>{const s=new FileReader;s.onload=()=>{const o=new Uint8Array(s.result),a={"image/jpeg":[255,216,255],"image/png":[137,80,78,71],"image/webp":[82,73,70,70]};for(const[r,l]of Object.entries(a))if(l.every((u,d)=>o[d]===u)){t(r);return}t(e.type)},s.onerror=()=>n(new Error("Erreur lecture fichier")),s.readAsArrayBuffer(e.slice(0,12))})}async function Br(e){return new Promise((t,n)=>{const s=new Image;s.onload=()=>{t({width:s.naturalWidth,height:s.naturalHeight})},s.onerror=()=>n(new Error("Impossible de charger l'image")),s.src=URL.createObjectURL(e)})}const zr={maxWidth:800,maxHeight:600,quality:.8,format:"webp",maintainAspectRatio:!0};async function jr(e,t={}){const n={...zr,...t};return n.format==="webp"&&!await Wr()&&(n.format="jpeg"),new Promise((s,o)=>{const a=new Image;a.onload=()=>{try{const r=document.createElement("canvas"),l=r.getContext("2d");if(!l){o(new Error("Impossible de créer le contexte canvas"));return}const{width:u,height:d}=Vr(a.naturalWidth,a.naturalHeight,n.maxWidth,n.maxHeight,n.maintainAspectRatio);r.width=u,r.height=d,l.imageSmoothingEnabled=!0,l.imageSmoothingQuality="high",l.drawImage(a,0,0,u,d),r.toBlob(c=>{if(!c){o(new Error("Erreur lors de la compression"));return}const p=new FileReader;p.onload=()=>{const b=p.result,S=(e.size-c.size)/e.size*100;s({compressedFile:c,dataUrl:b,originalSize:e.size,compressedSize:c.size,compressionRatio:Math.round(S)})},p.onerror=()=>o(new Error("Erreur génération dataURL")),p.readAsDataURL(c)},`image/${n.format}`,n.quality),URL.revokeObjectURL(a.src)}catch(r){o(r)}},a.onerror=()=>o(new Error("Impossible de charger l'image")),a.src=URL.createObjectURL(e)})}function Vr(e,t,n,s,o){if(!o)return{width:n,height:s};const a=e/t;let r=e,l=t;return(r>n||l>s)&&(r/n>l/s?(r=n,l=r/a):(l=s,r=l*a)),{width:Math.round(r),height:Math.round(l)}}async function Wr(){return new Promise(e=>{const t=document.createElement("canvas");t.width=1,t.height=1,t.toBlob(n=>e(!!n),"image/webp")})}function Rt(e){if(e===0)return"0 B";const t=1024,n=["B","KB","MB","GB"],s=Math.floor(Math.log(e)/Math.log(t));return`${parseFloat((e/Math.pow(t,s)).toFixed(1))} ${n[s]}`}function Gr(e={}){const t=I({file:null,previewUrl:"",fileName:"",isUploading:!1,error:"",compressionInfo:""}),n=()=>{t.value.previewUrl&&t.value.previewUrl.startsWith("blob:")&&URL.revokeObjectURL(t.value.previewUrl),t.value={file:null,previewUrl:"",fileName:"",isUploading:!1,error:"",compressionInfo:""}},s=async a=>{t.value.isUploading=!0,t.value.error="",t.value.compressionInfo="";try{const r=await Lr(a,{maxSizeBytes:e.maxSizeBytes,allowedTypes:e.allowedTypes,maxWidth:e.maxWidth,maxHeight:e.maxHeight});if(!r.isValid)return t.value.error=r.error||"Fichier invalide",t.value.isUploading=!1,!1;let l=a,u="";if(e.compressionEnabled!==!1)try{const d=await jr(a,{maxWidth:800,maxHeight:600,quality:.8});l=new File([d.compressedFile],a.name,{type:d.compressedFile.type,lastModified:Date.now()}),u=d.dataUrl,d.compressionRatio>0&&(t.value.compressionInfo=`Compression: ${Rt(d.originalSize)} → ${Rt(d.compressedSize)} (-${d.compressionRatio}%)`)}catch(d){console.warn("Compression échouée, utilisation du fichier original:",d),u=URL.createObjectURL(a)}else u=URL.createObjectURL(a);return t.value.file=l,t.value.previewUrl=u,t.value.fileName=a.name,t.value.isUploading=!1,!0}catch(r){return t.value.error=r instanceof Error?r.message:"Erreur lors du traitement du fichier",t.value.isUploading=!1,!1}},o=async()=>{if(!t.value.file)throw new Error("Aucun fichier sélectionné");return new Promise((a,r)=>{const l=new FileReader;l.onload=()=>a(l.result),l.onerror=()=>r(new Error("Erreur lecture fichier")),l.readAsDataURL(t.value.file)})};return ct(()=>{n()}),{state:Re(t),handleFileUpload:s,resetState:n,getDataUrl:o}}const Kr={class:"p-4 sm:p-6 space-y-4 sm:space-y-6"},Hr={class:"space-y-2 sm:space-y-3"},qr={class:"grid grid-cols-2 gap-2"},Yr={class:"space-y-3 sm:space-y-4"},Jr={class:"space-y-1 sm:space-y-2"},Xr={class:"space-y-1 sm:space-y-2"},Qr={class:"relative"},Zr={class:"space-y-1 sm:space-y-2"},ea={class:"space-y-1 sm:space-y-2"},ta={class:"flex flex-wrap items-center gap-2"},na={key:0,class:"mt-2 relative"},sa=["src"],oa={class:"items-center justify-center"},ra={key:1,class:"mt-2"},aa={key:2,class:"mt-1"},ia={key:3,class:"mt-2"},la={class:"space-y-2 sm:space-y-3"},ca={class:"grid grid-cols-1 gap-2"},da=R({__name:"AddMovementDialog",props:{isOpen:{type:Boolean},isDarkMode:{type:Boolean}},emits:["update:isOpen","addMovement"],setup(e,{emit:t}){const n=t,s=I(null),o=I(""),a=Gr({maxSizeBytes:2*1024*1024,allowedTypes:["image/jpeg","image/png","image/webp"],compressionEnabled:!0}),r=I({name:"",amount:0,date:"",type:"expense",isRecurrent:!1,imageUrl:""});G(o,c=>{r.value.date=c});const l=async c=>{const p=c.target;if(p.files&&p.files.length>0){const b=p.files[0];await a.handleFileUpload(b)}},u=()=>{a.resetState(),r.value.imageUrl="",s.value&&(s.value.value="")},d=async()=>{if(!(!r.value.name||!r.value.amount||!r.value.date))try{a.state.value.file&&(r.value.imageUrl=await a.getDataUrl()),n("addMovement",{...r.value}),r.value={name:"",amount:0,date:"",type:"expense",isRecurrent:!1,imageUrl:""},o.value="",u()}catch(c){console.error("Erreur lors de l'ajout du mouvement:",c)}};return(c,p)=>(k(),P(i(Ne),{open:c.isOpen,"onUpdate:open":p[8]||(p[8]=b=>c.$emit("update:isOpen",b))},{default:$(()=>[C(i(Be),{class:h(["p-0 w-full sm:max-w-[500px] max-h-[90vh] overflow-y-auto",c.isDarkMode?"bg-gray-900 border-gray-800":"bg-white border-slate-200"])},{default:$(()=>[C(i(je),{class:h(["sticky top-0 z-10 p-4 sm:p-6 border-b",c.isDarkMode?"border-gray-800 bg-gray-900":"border-slate-200 bg-white"])},{default:$(()=>[C(i(Ve),{class:h(["text-xl sm:text-2xl font-semibold",c.isDarkMode?"text-white":"text-slate-900"])},{default:$(()=>p[9]||(p[9]=[z(" Ajouter un mouvement ")])),_:1},8,["class"])]),_:1},8,["class"]),f("div",Kr,[f("div",Hr,[f("label",{class:h(["text-sm font-medium",c.isDarkMode?"text-white":"text-slate-900"])}," Type de mouvement ",2),f("div",qr,[f("button",{type:"button",class:h(["w-full px-3 py-2 rounded-md text-sm sm:text-base",i(r).type==="expense"?"bg-red-500 hover:bg-red-600 text-white":"border bg-slate-100"]),onClick:p[0]||(p[0]=b=>i(r).type="expense")}," Dépense ",2),f("button",{type:"button",class:h(["w-full px-3 py-2 rounded-md text-sm sm:text-base",i(r).type==="income"?"bg-emerald-500 hover:bg-emerald-600 text-white":"border bg-slate-100"]),onClick:p[1]||(p[1]=b=>i(r).type="income")}," Revenu ",2)])]),f("div",Yr,[f("div",Jr,[f("label",{class:h(c.isDarkMode?"text-white":"text-slate-900")},"Nom",2),C(i(he),{modelValue:i(r).name,"onUpdate:modelValue":p[2]||(p[2]=b=>i(r).name=b),type:"text",placeholder:"Ex: Loyer, Salaire...",class:h([c.isDarkMode?"bg-gray-800 border-gray-700 text-white":"bg-white border-slate-200"])},null,8,["modelValue","class"])]),f("div",Xr,[f("label",{class:h(c.isDarkMode?"text-white":"text-slate-900")},"Montant",2),f("div",Qr,[C(i(he),{modelValue:i(r).amount,"onUpdate:modelValue":p[3]||(p[3]=b=>i(r).amount=b),type:"number",placeholder:"0.00",class:h(["pl-8",[c.isDarkMode?"bg-gray-800 border-gray-700 text-white":"bg-white border-slate-200"]])},null,8,["modelValue","class"]),p[10]||(p[10]=f("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"},"€",-1))])]),f("div",Zr,[f("label",{class:h(c.isDarkMode?"text-white":"text-slate-900")},"Date",2),C(i(he),{modelValue:i(o),"onUpdate:modelValue":p[4]||(p[4]=b=>dt(o)?o.value=b:null),type:"date",class:h([c.isDarkMode?"bg-gray-800 border-gray-700 text-white":"bg-white border-slate-200"])},null,8,["modelValue","class"])]),f("div",ea,[f("label",{class:h(c.isDarkMode?"text-white":"text-slate-900")},"Image (optionnel)",2),f("div",ta,[f("input",{type:"file",id:"image",accept:"image/*",onChange:l,class:"hidden",ref_key:"fileInput",ref:s},null,544),f("button",{type:"button",onClick:p[5]||(p[5]=b=>c.$refs.fileInput.click()),class:h(["px-3 py-2 rounded-md flex items-center gap-1 text-sm sm:text-base",c.isDarkMode?"bg-gray-800 hover:bg-gray-700 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700"])},p[11]||(p[11]=[f("span",null,"Choisir une image",-1)]),2),f("span",{class:h(["text-sm",c.isDarkMode?"text-gray-400":"text-gray-500"])},L(i(a).state.value.fileName||"Aucun fichier sélectionné"),3)]),i(a).state.value.previewUrl?(k(),_("div",na,[f("img",{src:i(a).state.value.previewUrl,alt:"Prévisualisation",class:"h-24 w-auto object-cover rounded-md"},null,8,sa),f("button",{type:"button",onClick:u,class:"absolute top-1 right-1 bg-red-500 text-white rounded-full"},[f("span",oa,[C(i(st))])])])):W("",!0),i(a).state.value.error?(k(),_("div",ra,[C(i(Pr),{variant:"destructive"},{default:$(()=>[C(i(Ur),null,{default:$(()=>[z(L(i(a).state.value.error),1)]),_:1})]),_:1})])):W("",!0),i(a).state.value.compressionInfo?(k(),_("div",aa,[f("div",{class:h(["text-xs flex items-center gap-1",c.isDarkMode?"text-green-400":"text-green-600"])},[C(i(_n),{class:"h-3 w-3"}),z(" "+L(i(a).state.value.compressionInfo),1)],2)])):W("",!0),i(a).state.value.isUploading?(k(),_("div",ia,[f("div",{class:h(["flex items-center gap-2 text-sm",c.isDarkMode?"text-gray-400":"text-gray-600"])},[C(i(Ln),{class:"h-4 w-4 animate-pulse"}),p[12]||(p[12]=z(" Traitement en cours... "))],2)])):W("",!0)])]),f("div",la,[f("label",{class:h(["text-sm font-medium",c.isDarkMode?"text-white":"text-slate-900"])}," Type de récurrence ",2),f("div",ca,[C(i(Z),{variant:"outline",class:h(["justify-start py-1 sm:py-2 text-sm sm:text-base",i(r).isRecurrent?"":"bg-emerald-500 hover:bg-emerald-600 text-white"]),onClick:p[6]||(p[6]=b=>i(r).isRecurrent=!1)},{default:$(()=>p[13]||(p[13]=[f("span",{class:"mr-2"},"🔄",-1),z(" Pas de récurrence ")])),_:1},8,["class"]),C(i(Z),{variant:"outline",class:h(["justify-start py-1 sm:py-2 text-sm sm:text-base",i(r).isRecurrent?"bg-emerald-500 hover:bg-emerald-600 text-white":""]),onClick:p[7]||(p[7]=b=>i(r).isRecurrent=!0)},{default:$(()=>p[14]||(p[14]=[f("span",{class:"mr-2"},"📅",-1),z(" Mensuel ")])),_:1},8,["class"])])])]),C(i(ze),{class:h(["sticky bottom-0 z-10 p-4 sm:p-6 border-t",c.isDarkMode?"border-gray-800 bg-gray-900":"border-slate-200 bg-white"])},{default:$(()=>[C(i(Z),{class:"w-full bg-emerald-500 hover:bg-emerald-600 text-white",onClick:d,disabled:i(a).state.value.isUploading},{default:$(()=>[z(L(i(a).state.value.isUploading?"Traitement...":"Ajouter"),1)]),_:1},8,["disabled"])]),_:1},8,["class"])]),_:1},8,["class"])]),_:1},8,["open"]))}}),ua={class:"p-6 space-y-6"},pa={class:"flex justify-between items-center"},fa={class:"space-y-1"},va=R({__name:"index",setup(e){const t=Te(),n=On(),s=Pt(),{isDarkMode:o}=Ze(n),{showAddDialog:a,selectedDate:r,currentMonth:l}=Ze(s),u=new Date;(!r.value||isNaN(r.value.getTime()))&&s.setSelectedDate(u),(!l.value||isNaN(l.value.getTime()))&&s.setCurrentMonth(u),lt(()=>{n.loadSettings()});const d=()=>{n.toggleDarkMode()},c=async b=>{await t.addMovement(b)&&s.closeAddDialog()},p=()=>{};return(b,S)=>{const g=Vs,v=An,m=or,M=Rr,y=da;return k(),_("div",{class:h(["min-h-screen transition-colors duration-300",i(o)?"dark bg-gray-950":"bg-slate-50"])},[f("div",ua,[f("div",pa,[f("div",fa,[f("div",{class:h(i(o)?"text-gray-400":"text-slate-600")},L(i(zn)(i(r))),3),f("h1",{class:h(["text-4xl font-bold flex items-center gap-2",i(o)?"text-white":"text-slate-900"])},S[3]||(S[3]=[z(" Bonjour, "),f("span",null,"User",-1)]),2)]),f("button",{onClick:d,class:h(["rounded-full p-2",i(o)?"hover:bg-gray-800":"hover:bg-slate-200"])},[i(o)?(k(),P(i(Fn),{key:0,class:"h-6 w-6 text-yellow-500"})):(k(),P(i(Pn),{key:1,class:"h-6 w-6 text-slate-700"}))],2)]),C(v,null,{default:$(()=>[C(g,{movements:i(t).movements.value||[],"selected-month":i(l),"is-dark-mode":i(o)},null,8,["movements","selected-month","is-dark-mode"])]),_:1}),C(v,null,{default:$(()=>[C(m,{movements:i(t).movements.value||[],"selected-date":i(r),"current-month":i(l),"is-dark-mode":i(o),"onUpdate:selectedDate":S[0]||(S[0]=x=>i(s).setSelectedDate(x)),"onUpdate:currentMonth":S[1]||(S[1]=x=>i(s).setCurrentMonth(x))},null,8,["movements","selected-date","current-month","is-dark-mode"])]),_:1}),C(v,null,{default:$(()=>[C(M,{movements:i(t).movements.value||[],"selected-date":i(r),"is-dark-mode":i(o),onMovementUpdated:p},null,8,["movements","selected-date","is-dark-mode"])]),_:1})]),f("button",{onClick:S[2]||(S[2]=x=>i(s).openAddDialog()),class:"fixed bottom-20 right-6 rounded-full w-12 h-12 shadow-lg bg-emerald-500 hover:bg-emerald-600 text-white flex items-center justify-center"},[C(i(Tn),{class:"h-6 w-6"})]),C(y,{"is-open":i(a),"is-dark-mode":i(o),"onUpdate:isOpen":i(s).closeAddDialog,onAddMovement:c},null,8,["is-open","is-dark-mode","onUpdate:isOpen"])],2)}}});export{va as default};
